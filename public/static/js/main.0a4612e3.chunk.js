(this["webpackJsonpcalendar-app"]=this["webpackJsonpcalendar-app"]||[]).push([[0],{102:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),o=n.n(r),s=n(9),i=n(24),l=n(70),u=n(5),d="[ui] open modal",j="[ui] close modal",b="[event] Set active",m="[event] Add new",f="[event] Clear active event",h="[event] Updated event",O="[event] Deleted event",p="[event] Loaded events",v="[event] Logout",x="[auth] Finish checking login state",g="[auth] Login",y="[auth] Logout",k={checking:!0},N=n(27),w={events:[],activeEvent:null},E={modalOpen:!1},S=Object(i.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case d:return Object(u.a)(Object(u.a)({},e),{},{modalOpen:!0});case j:return Object(u.a)(Object(u.a)({},e),{},{modalOpen:!1});default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(u.a)(Object(u.a)({},e),{},{activeEvent:t.payload});case m:return Object(u.a)(Object(u.a)({},e),{},{events:[].concat(Object(N.a)(e.events),Object(N.a)(t.payload))});case f:return Object(u.a)(Object(u.a)({},e),{},{activeEvent:null});case h:return Object(u.a)(Object(u.a)({},e),{},{events:e.events.map((function(e){return e.id===t.payload.id?t.payload:e}))});case O:var n=t.payload||e.activeEvent.id;return Object(u.a)(Object(u.a)({},e),{},{events:e.events.filter((function(e){return e.id!==n})),activeEvent:null});case p:return Object(u.a)(Object(u.a)({},e),{},{events:Object(N.a)(t.payload)});case v:return w;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(u.a)(Object(u.a)({},e),{},{checking:!1},t.payload);case x:return Object(u.a)(Object(u.a)({},e),{},{checking:!1});case y:return{checking:!1};default:return e}}}),C="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,D=Object(i.e)(S,C(Object(i.a)(l.a))),T=n(37),A=n(11),I=n(13),P=n.n(I),L=n(23),M=n(19),V=n.n(M),_=n(71),F=n.n(_),G="https://turns-getienot.herokuapp.com/api",J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(G,"/").concat(e);return"GET"===n?fetch(a):fetch(a,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(G,"/").concat(e),c=localStorage.getItem("token")||"";return"GET"===n?fetch(a,{method:n,headers:{"x-token":c}}):fetch(a,{method:n,headers:{"Content-Type":"application/json","x-token":c},body:JSON.stringify(t)})},H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(G,"/").concat(e),c=localStorage.getItem("token")||"",r={url:a,method:n,headers:{"content-type":"application/json;charset=utf-8","x-token":c}};return r="GET"===n?Object(u.a)(Object(u.a)({},r),{},{params:t}):Object(u.a)(Object(u.a)({},r),{},{data:t}),F()(r)},z=n(10),U=n.n(z),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{end:U()(e.end).toDate(),start:U()(e.start).toDate()})}))},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(t&&n.push(e),e.fixedEvent){var a,c=U()(e.start),r=e.start.getFullYear(),o=c.diff("".concat(r,"-12-31"),"weeks");for(a=0;a<-o;a++)n.push(Object(u.a)(Object(u.a)({},e),{},{start:U()(e.start).add(7*(a+1),"days").toDate(),end:U()(e.end).add(7*(a+1),"days").toDate()}))}return n},X=function(e){return{type:b,payload:e}},q=function(e){return{type:m,payload:e}},Y=function(){return{type:f}},K=function(e){return{type:O,payload:e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(L.a)(P.a.mark((function t(n){var a,c,r,o;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H("events",e);case 3:a=t.sent,c=a.data,r=B(c.events),o=r,r.forEach((function(e){e.fixedEvent&&(o=[].concat(Object(N.a)(o),Object(N.a)(W(e))))})),n(Z(o)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){return{type:p,payload:e}},$=function(){return{type:x}},ee=function(e){return{type:g,payload:e}},te=function(){return function(e){localStorage.clear(),e(ne()),e({type:v})}},ne=function(){return{type:y}},ae=n(14),ce=n(20),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(ae.a)(t,2),c=n[0],r=n[1],o=function(){r(e)},s=function(e){var t=e.target;r(Object(u.a)(Object(u.a)({},c),{},Object(ce.a)({},t.name,t.value)))};return[c,s,o]},oe=(n(102),n(2)),se=function(){var e=re({lEmail:"",lPassword:""}),t=Object(ae.a)(e,2),n=t[0],a=t[1],c=re({rName:"",rEmail:"",rPassword1:"",rPassword2:""}),r=Object(ae.a)(c,2),o=r[0],i=r[1],l=o.rName,u=o.rEmail,d=o.rPassword1,j=o.rPassword2,b=Object(s.b)(),m=n.lEmail,f=n.lPassword;return Object(oe.jsx)("div",{className:"main-container",children:Object(oe.jsx)("div",{className:"container-sm login-container",children:Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsxs)("div",{className:"col-md-6 login-form-1",children:[Object(oe.jsx)("h3",{children:"Ingreso"}),Object(oe.jsxs)("form",{onSubmit:function(e){var t,n;e.preventDefault(),b((t=m,n=f,function(){var e=Object(L.a)(P.a.mark((function e(a){var c,r,o,s,i,l,u;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("auth",{email:t,password:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,o=r.ok,s=r.token,i=r.uid,l=r.name,u=r.msg,o?(localStorage.setItem("token",s),localStorage.setItem("token-init-date",(new Date).getTime()),a(ee({uid:i,name:l}))):V.a.fire("Error",u,"error");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Correo",autoComplete:"off",name:"lEmail",value:m,onChange:a})}),Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"lPassword",value:f,onChange:a})}),Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"submit",className:"btnSubmit",value:"Login"})})]})]}),Object(oe.jsxs)("div",{className:"col-md-6 login-form-2",children:[Object(oe.jsx)("h3",{children:"Registro"}),Object(oe.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),d!==j)return V.a.fire("Error","Las constrase\xf1as deben ser iguales","error");var t,n,a;b((t=u,n=d,a=l,function(){var e=Object(L.a)(P.a.mark((function e(c){var r,o,s,i,l,u,d,j,b;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("auth/new",{email:t,password:n,name:a},"POST");case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,s=o.ok,i=o.token,l=o.uid,u=o.name,d=o.errors,s)localStorage.setItem("token",i),localStorage.setItem("token-init-date",(new Date).getTime()),c(ee({uid:l,name:u}));else{for(b in console.log(d),j="",d)j=j.concat("".concat(d[b].msg,". "));V.a.fire("Error",j,"error")}case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre y apellido",name:"rName",value:l,onChange:i})}),Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"email",className:"form-control",placeholder:"Correo",name:"rEmail",value:u,onChange:i})}),Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"rPassword1",value:d,onChange:i})}),Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"password",className:"form-control",placeholder:"Repita la contrase\xf1a",name:"rPassword2",value:j,onChange:i})}),Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsx)("input",{type:"submit",className:"btnSubmit",value:"Crear cuenta"})})]})]})]})})})},ie=n(54),le=function(){var e=Object(a.useState)({field:"0",fixedEvent:!1}),t=Object(ae.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),o=Object(ae.a)(r,2),i=o[0],l=o[1],d=Object(s.c)((function(e){return e.auth})).name,j=Object(s.b)(),b=n.field,m=n.fixedEvent,f=function(e){var t=e.target;c(Object(u.a)(Object(u.a)({},n),{},Object(ce.a)({},t.name,"checkbox"===t.type?t.checked:t.value)));var a=Object(u.a)(Object(u.a)({},n),{},Object(ce.a)({},t.name,"checkbox"===t.type?t.checked:t.value));"0"===a.field&&delete a.field,!1===a.fixedEvent&&delete a.fixedEvent,j(Q(a))};return Object(oe.jsxs)("div",{className:"navbar navbar-dark bg-dark mb-4",children:[Object(oe.jsx)("span",{className:"navbar-brand",children:"".concat(d.charAt(0).toUpperCase()).concat(d.substr(1,d.length))}),i?Object(oe.jsxs)("div",{className:"d-flex flex-row pt-2",children:[Object(oe.jsxs)("select",{className:"form-control",id:"inputState",type:"number",name:"field",value:b,onChange:f,children:[Object(oe.jsx)("option",{defaultValue:!0,value:"0",children:"Todas las canchas"}),Object(oe.jsx)("option",{value:"1",children:"Cancha 1"}),Object(oe.jsx)("option",{value:"2",children:"Cancha 2"}),Object(oe.jsx)("option",{value:"3",children:"Cancha 3"})]}),Object(oe.jsxs)("div",{className:"form-check form-switch ml-4 text-white",children:[Object(oe.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",name:"fixedEvent",checked:m,onChange:f}),Object(oe.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"Turnos fijos"})]})]}):Object(oe.jsx)("button",{className:"btn btn-outline-secondary text-white",onClick:function(){return l(!i)},children:"Filtros"}),Object(oe.jsxs)("button",{className:"btn btn-outline-danger",onClick:function(){j(te())},children:[Object(oe.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(oe.jsx)("span",{children:" Salir"})]})]})},ue={allDay:"Todo el d\xeda",previous:"<",next:">",today:"Hoy",month:"Mes",week:"Semana",day:"D\xeda",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango",showMore:function(e){return"+ Ver m\xe1s (".concat(e,")")}},de=(n(104),n(105),function(e){var t=e.event,n=(t.title,t.user),a=t.field,c=null===n||void 0===n?void 0:n.name.split(" ");return Object(oe.jsxs)("div",{style:{overflowX:"hidden"},children:[Object(oe.jsxs)("div",{style:{fontWeight:"bold"},children:[" ",a," "]}),Object(oe.jsxs)("strong",{style:{display:"block"},children:[" ",c[0]," "]}),Object(oe.jsxs)("strong",{style:{display:"block"},children:[" ",c[1]," "]})]})}),je=n(50),be=n.n(je),me=n(74),fe=n.n(me),he=function(){return{type:d}},Oe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};be.a.setAppElement("#root");var pe=U()().minutes(0).seconds(0).add(1,"hours"),ve=U()(pe).add(1,"hours"),xe={players:[],start:pe.toDate(),end:ve.toDate(),field:0,fixedEvent:!1},ge=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],ye=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],ke=["1","2","3","4","5","6","7","8","9","10"],Ne=function(){var e=Object(a.useState)(xe),t=Object(ae.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),o=Object(ae.a)(r,2),i=o[0],l=o[1],d=Object(a.useState)(""),b=Object(ae.a)(d,2),m=b[0],f=b[1],h=Object(s.c)((function(e){return e.auth})).name,O=Object(s.c)((function(e){return e.ui})).modalOpen,p=Object(s.c)((function(e){return e.calendar})).activeEvent,v=Object(s.b)(),x=n.players,g=n.start,y=n.end,k=n.field,N=n.fixedEvent;Object(a.useEffect)((function(){p?(c(p),f(p.user?p.user.name:h),p.players.length>0&&p.players.some((function(e){return""!==e}))&&l(!0)):c(xe)}),[p]);var w=function(e){var t=e.target;c(Object(u.a)(Object(u.a)({},n),{},Object(ce.a)({},t.name,"checkbox"===t.type?t.checked:t.value)))},E=function(){v({type:j}),v(Y()),c(xe),l(!1)},S=function(e){var t=e.target,a=x;a[t.name-1]=t.value,c(Object(u.a)(Object(u.a)({},n),{},{players:a}))};return Object(oe.jsxs)(be.a,{isOpen:O,onRequestClose:E,style:Oe,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo",children:[Object(oe.jsxs)("h2",{children:[" ",(null===p||void 0===p?void 0:p.user)?"Editar turno":"Nuevo turno"," "]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"container-fluid",children:Object(oe.jsxs)("form",{className:"row g-3 justify-content-center",onSubmit:function(e){e.preventDefault();var t=U()(g),a=U()(y);if(t.isSameOrAfter(a))return V.a.fire("Error","La fecha fin debe ser mayor que la fecha de inicio","error");var c,r=Object(u.a)(Object(u.a)({},n),{},{field:parseInt(n.field)});r.id?v((c=r,function(){var e=Object(L.a)(P.a.mark((function e(t){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R("events/".concat(c.id),c,"PUT");case 3:return n=e.sent,e.next=6,n.json();case 6:(a=e.sent).ok?(t(K(c.id)),t(q(W(c,!0)))):V.a.fire("Error",a.msg,"error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())):v(function(e){return function(){var t=Object(L.a)(P.a.mark((function t(n,a){var c,r,o,s,i,l;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=a().auth,r=c.uid,o=c.name,s=a().calendar.events,!s.filter((function(t){return t.start.toString()===e.start.toString()})).find((function(t){return t.field===e.field}))){t.next=6;break}return t.abrupt("return",V.a.fire("Error","La cancha ".concat(e.field.toString()," ya est\xe1 ocupada"),"error"));case 6:return t.prev=6,t.next=9,R("events",e,"POST");case 9:return i=t.sent,t.next=12,i.json();case 12:(l=t.sent).ok&&(e.id=l.event.id,e.user={_id:r,name:o},n(q(W(e,!0)))),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(e,n){return t.apply(this,arguments)}}()}(r)),E()},children:[Object(oe.jsxs)("div",{className:"col-md-".concat(p?"6":"8"," mb-2"),children:[Object(oe.jsx)("label",{children:"Fecha"}),p?Object(oe.jsx)("div",{className:"form-control",children:"".concat(ge[g.getDay()]," ").concat(g.getDate()," de ").concat(ye[g.getMonth()])}):Object(oe.jsx)(fe.a,{onChange:function(e){var t=U()(e).add(1,"hours").toDate();c(Object(u.a)(Object(u.a)({},n),{},{start:e,end:t}))},value:g,className:"form-control"})]}),Object(oe.jsxs)("div",{className:"col-md-".concat(p?"6":"4"," mb-2"),children:[Object(oe.jsx)("label",{children:"Hora"}),Object(oe.jsx)("div",{className:"form-control",children:"".concat(g.getHours()," a ").concat(y.getHours(),"hs")})]}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("div",{className:"col-md-6 mb-2",children:[Object(oe.jsx)("label",{className:"form-label",children:"Cancha"}),Object(oe.jsxs)("select",{className:"form-control",id:"inputState",type:"number",name:"field",value:k,onChange:w,children:[Object(oe.jsx)("option",{defaultValue:!0,children:"Elegir..."}),Object(oe.jsx)("option",{value:1,children:"1"}),Object(oe.jsx)("option",{value:2,children:"2"}),Object(oe.jsx)("option",{value:3,children:"3"})]})]}),Object(oe.jsxs)("div",{className:"col-md-6 mb-2",children:[Object(oe.jsx)("label",{className:"form-label",children:"Nombre"}),Object(oe.jsx)("input",{type:"text",className:"form-control",name:"user",value:m,readOnly:!0})]}),Object(oe.jsx)("div",{className:"col-md-6 mb-2",children:Object(oe.jsxs)("div",{className:"form-check",children:[Object(oe.jsx)("input",{type:"checkbox",className:"form-check-input",id:"gridCheck",name:"fixedEvent",checked:N,onChange:w}),Object(oe.jsx)("label",{className:"form-check-label",children:"Turno fijo semanal"})]})}),i?Object(oe.jsx)("div",{className:"col-12",children:ke.map((function(e,t){return Object(oe.jsxs)("div",{className:"input-group mb-3",children:[Object(oe.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:e}),Object(oe.jsx)("input",{type:"text",className:"form-control",name:e,value:x[t],onChange:S})]},e)}))}):Object(oe.jsx)("div",{className:"col-md-6 mb-2",children:Object(oe.jsx)("button",{onClick:function(){return l(!0)},className:"btn btn-outline-secondary btn-sm mb-2",children:"Anotar jugadores"})}),Object(oe.jsx)("div",{className:"col-12 justify-content-center",children:Object(oe.jsxs)("button",{type:"submit",className:"btn btn-outline-primary btn-block",children:[Object(oe.jsx)("i",{className:"far fa-save"}),Object(oe.jsx)("span",{children:" Guardar"})]})})]})})]})},we=function(){var e=Object(s.b)();return Object(oe.jsx)("button",{className:"btn btn-primary fab",onClick:function(){e(he())},children:Object(oe.jsx)("i",{className:"fas fa-plus"})})},Ee=function(){var e=Object(s.b)();return Object(oe.jsxs)("button",{className:"btn btn-danger fab-danger",style:{zIndex:99},onClick:function(){e(function(){var e=Object(L.a)(P.a.mark((function e(t,n){var a,c,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().calendar.activeEvent.id,e.prev=1,e.next=4,R("events/".concat(a),{},"DELETE");case 4:return c=e.sent,e.next=7,c.json();case 7:(r=e.sent).ok?t(K(a)):V.a.fire("Error",r.msg,"error"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}())},children:[Object(oe.jsx)("i",{className:"fas fa-trash"}),Object(oe.jsx)("span",{children:" Borrar evento "})]})},Se=(U()().toDate(),function(e){var t=e.children;e.value;return c.a.cloneElement(a.Children.only(t),{style:Object(u.a)({},t.style)})});U.a.locale("es");var Ce=Object(ie.b)(U.a),De=["blue","green","red"],Te=function(){var e=Object(a.useState)(localStorage.getItem("lastView")||"week"),t=Object(ae.a)(e,2),n=t[0],c=t[1],r=Object(s.b)(),o=Object(s.c)((function(e){return e.calendar})),i=o.events,l=o.activeEvent,u=Object(s.c)((function(e){return e.auth})).uid;Object(a.useEffect)((function(){r(Q())}),[r]);return Object(oe.jsxs)("div",{className:"calendar-screen",children:[Object(oe.jsx)(le,{}),Object(oe.jsx)(ie.a,{localizer:Ce,events:i,startAccessor:"start",endAccessor:"end",messages:ue,eventPropGetter:function(e,t,n,a){var c=U()();return{style:{backgroundColor:u===e.user._id?De[1]:"#367CF7",border:a&&l?"3px solid black":"",borderRadius:a&&l?"4px":"opx",opacity:U()(c).isBefore(U()(t))?.8:.4,display:"block",color:"white",fontSize:"0.8rem",maxWidth:"33.33%"}}},defaultView:"week",onDoubleClickEvent:function(e){r(he())},onSelectEvent:function(e){r(X(e))},onSelectSlot:function(e){if(l)r(Y());else if("doubleClick"===e.action||"select"===e.action){var t=U()(e.start).minutes(0).seconds(0).toDate(),n=U()(t).add(1,"hours").toDate();e.start=t,e.end=n,r(X({players:[],start:t,end:n,field:0,fixedEvent:!1})),r(he())}},selectable:!0,longPressThreshold:10,onView:function(e){c(e),localStorage.setItem("lastView",e)},components:{event:de,dateCellWrapper:Se},views:["month","week","day"],view:n,min:new Date(2016,10,0,17,0,0),scrollToTime:new Date(2016,1,1,10),popup:!0}),Object(oe.jsx)(we,{}),l&&Object(oe.jsx)(Ee,{}),Object(oe.jsx)(Ne,{})]})},Ae=n(40),Ie=function(e){var t=e.isAuthenticated,n=e.component,a=Object(Ae.a)(e,["isAuthenticated","component"]);return Object(oe.jsx)(A.b,Object(u.a)(Object(u.a)({},a),{},{component:function(e){return t?Object(oe.jsx)(n,Object(u.a)({},e)):Object(oe.jsx)(A.a,{to:"/login"})}}))},Pe=function(e){var t=e.isAuthenticated,n=e.component,a=Object(Ae.a)(e,["isAuthenticated","component"]);return Object(oe.jsx)(A.b,Object(u.a)(Object(u.a)({},a),{},{component:function(e){return t?Object(oe.jsx)(A.a,{to:"/"}):Object(oe.jsx)(n,Object(u.a)({},e))}}))},Le=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth})),n=t.checking,c=t.uid;return Object(a.useEffect)((function(){e(function(){var e=Object(L.a)(P.a.mark((function e(t){var n,a,c,r,o,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("auth/renew");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,c=a.ok,r=a.token,o=a.uid,s=a.name,a.msg,c?(localStorage.setItem("token",r),localStorage.setItem("token-init-date",(new Date).getTime()),t(ee({uid:o,name:s}))):t($());case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(oe.jsx)("h5",{children:"Espere..."}):Object(oe.jsx)(T.a,{children:Object(oe.jsx)("div",{style:{height:"100%"},children:Object(oe.jsxs)(A.d,{children:[Object(oe.jsx)(Pe,{exact:!0,path:"/login",component:se,isAuthenticated:!!c}),Object(oe.jsx)(Ie,{exact:!0,path:"/",component:Te,isAuthenticated:!!c}),Object(oe.jsx)(A.a,{to:"/"})]})})})},Me=function(){return Object(oe.jsx)(s.a,{store:D,children:Object(oe.jsx)(Le,{})})};n(135);o.a.render(Object(oe.jsx)(Me,{}),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.0a4612e3.chunk.js.map